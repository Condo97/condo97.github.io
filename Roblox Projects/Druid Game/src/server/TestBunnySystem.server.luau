-- TestBunnySystem.server.luau
-- DISABLED for production

--[[ DISABLED
-- Test script to verify the bunny system works properly

local ReplicatedStorage = game:GetService("ReplicatedStorage")

-- Wait for dependencies
task.wait(3) -- Give time for other scripts to initialize

-- Wait for shared modules
ReplicatedStorage.Shared:WaitForChild("AssetIds")
ReplicatedStorage.Shared:WaitForChild("AnimalConfig")
ReplicatedStorage.Shared:WaitForChild("BunnyReference")

local AssetIds = require(ReplicatedStorage.Shared.AssetIds)
local AnimalConfig = require(ReplicatedStorage.Shared.AnimalConfig)
local BunnyReference = require(ReplicatedStorage.Shared.BunnyReference)

print("ğŸ° ====== BUNNY SYSTEM TEST ======")

-- Test 1: Verify all asset IDs are loaded
print("\nğŸ“‹ Asset IDs Test:")
for bunnyName, assetId in pairs(AssetIds.Bunnies) do
    print("âœ…", bunnyName, "â†’", assetId)
end

-- Test 2: Verify all tags are configured
print("\nğŸ·ï¸  Tags Test:")
for bunnyName, tag in pairs(BunnyReference.TAG_MAPPING) do
    print("âœ…", bunnyName, "â†’", tag)
end

-- Test 3: Verify counter system is working
print("\nğŸ“Š Counter System Test:")
local countersFolder = ReplicatedStorage:FindFirstChild("AnimalCounters")
if countersFolder then
    print("âœ… AnimalCounters folder exists")
    
    -- Check if counters are initialized for each bunny type
    for _, tag in pairs(BunnyReference.TAG_MAPPING) do
        local totalKey = AnimalConfig.CounterKeys.Total(tag)
        local infectedKey = AnimalConfig.CounterKeys.Infected(tag)
        local curedKey = AnimalConfig.CounterKeys.Cured(tag)
        
        local total = countersFolder:GetAttribute(totalKey)
        local infected = countersFolder:GetAttribute(infectedKey)
        local cured = countersFolder:GetAttribute(curedKey)
        
        print("âœ…", tag, "counters:", total, infected, cured)
    end
else
    print("âŒ AnimalCounters folder not found")
end

-- Test 4: Verify AssetLoader can access all bunnies
print("\nğŸ”„ AssetLoader Test:")
local success, AssetLoader = pcall(function()
    return require(script.Parent.AssetLoader)
end)

if success and AssetLoader then
    local availableBunnies = AssetLoader.getAllBunnyTypes()
    print("âœ… Available bunny types:", table.concat(availableBunnies, ", "))
    
    if AssetLoader.isReady() then
        print("âœ… AssetLoader is ready")
    else
        print("âš ï¸  AssetLoader not ready yet")
    end
else
    warn("âŒ Failed to load AssetLoader")
end

print("\nğŸ‰ Bunny system test complete!")

-- Uncomment to test spawning:
-- print("\nğŸš€ Testing bunny spawning in 5 seconds...")
-- wait(5)
-- local BunnySpawner = require(script.Parent.BunnySpawner)
-- BunnySpawner.spawnAllBunnyTypes()
--]]
